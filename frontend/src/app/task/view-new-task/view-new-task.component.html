<section *ngIf="taskList$ | async as tasks; else loading">
  <article *ngFor="let task of tasks" class="container-task">
    <article class="div-text">
      <div class="container-button-mark">
        <button
          (click)="onIsMark(task)"
          [class.button-dismark]="task.isMark == true"
          class="button-mark"
        >
          <strong class="material-icons-outlined"> done </strong>
        </button>
        <div *ngIf="task.isMark == false">marcar tarefa</div>
        <div *ngIf="task.isMark == true">desmarcar tarefa</div>
      </div>
      <div class="div-info-form" [class.background-green]="task.isMark == true">
        <div>
          <h3 [class.text-through]="task.isMark == true">{{ task.title }}</h3>
        </div>
        <p [class.text-through]="task.isMark == true">{{ task.text }}</p>
        <div class="div-date">
          <i>{{ task.date | date: "short" }}</i>
        </div>
      </div>
    </article>

    <article class="div-buttons-delete-edit">
      <a routerLink="/task/update/{{ task.id }}" class="edit">
        <button class="btn btn-primary" title="Click para editar tarefa">
          editar
        </button>
      </a>
      <button
        (click)="deleteTask(task)"
        class="btn btn-danger"
        title="Click para deletar tarefa"
      >
        delete
      </button>
    </article>
  </article>
</section>

<ng-template #loading>
  <div class="loading">
    <h4>Carregando...</h4>
  </div>
</ng-template>
